<!doctype html>
<html>

<head>
    <title>Endpräse 2022</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <meta charset="utf-8">

    <meta name="description" content="In-VR Performance - A-Frame">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.1.2/dist/aframe-event-set-component.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/aframe-troika-text/dist/aframe-troika-text.min.js"></script>
    <script src="https://unpkg.com/@tlaukkan/aframe-three-color-gradient-shader@0.0.1/index.js"></script>

    <style>
        body {
            background-color: #232323;
            overflow: hidden;
            margin: 0;
        }

        a-scene {
            position: relative;
            margin-top: 0px;
            z-index: 5;
            margin-bottom: 20px;
            height: 110vh;
            width: 100%;
        }

        div.a-enter-ar {
            visibility: hidden;
        }

        div.a-enter-vr {
            visibility: hidden;
        }

        .buttonOne {
            position: absolute;
            bottom: 15px;
            right: 15px;
            height: 50px;
            width: 50px;
            z-index: 10;
            background-color: rgba(153, 51, 51, 0.0);
            background-image: url("https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Img/infoR.png");
            background-repeat: no-repeat;
            background-position: center;
            border: none;
            outline: none;
        }

        .buttonOne:hover {
            border-radius: 50%;
            background-color: rgba(148, 72, 72, 0.621);
            transform: scale(1.05);
            outline: none;
        }

        .buttonOne:active {
            border-radius: 50%;
            background-color: rgb(120, 15, 15);
            outline: none;
        }
        .a-canvas {
            height: 100%;
            top: -8%;
        }
    </style>

    <script>
        var progress;
        var duration;
        var timer = 0;
        var timerChangeColor = false;
        var accepted = false;
        var myplane = document.createElement('a-plane');
        var myText = document.createElement('a-text');
        var myTextYes = document.createElement('a-text');
        var myTextNo = document.createElement('a-text');
        var myButtonYes = document.createElement('a-plane');
        var myButtonNo = document.createElement('a-plane');
        var background = document.createElement('a-text');
        var closebtn = document.createElement('a-text');
        var count = 0;
        var currentlink;
        var data = [];
        var numbers = [];
        var n, p;
        var setsessionPosx, setsessionPosy, setsessionPosz = null;

        $.getJSON('assets/js/projekte.json', function (json) {
            data = json;
        });

        AFRAME.registerComponent('frame-listener', {
            init: function () {
                var el = this.el;
                var cameraEl = this.el.sceneEl.camera.el;
                var cameraElpos = cameraEl.getAttribute('position');
                el.addEventListener('click', function (evt) {
                    var framepos = el;
                    let children = framepos.firstChild.getAttribute('position');
                    var childpos = children;
                    var worldPos = new THREE.Vector3();
                    worldPos.setFromMatrixPosition(framepos.firstChild.object3D.matrixWorld);
                    moveCamera(worldPos.x, worldPos.y, worldPos.z);
                });
            }
        });

        AFRAME.registerComponent('cursor-listener', {
            init: function () {
                var el = this.el;
                var cameraEl = this.el.sceneEl.camera.el;
                var cameraElpos = cameraEl.getAttribute('position');

                el.addEventListener('click', function (evt) {
                    var ballpos = el.getAttribute('position');
                    var videoEl = document.querySelector('#my-video');
                    let controls = document.querySelector('a-camera').components['look-controls'];
                    count++;

                    if (el.getAttribute('id') == 'enter') {
                        moveCamera(ballpos.x, 0.3, -3.5);
                        setTimeout(() => {
                            moveCamera(0.45, -0.75, -3.98);
                        }, 1000)
                        setTimeout(() => {
                            moveCamera(0.45, -5, -3.98);
                        }, 2000)
                        setTimeout(() => {
                            moveCamera(0.45, -10, -3.98);
                            camera.setAttribute('wasd-controls', 'enabled:true');
                            camera.setAttribute('look-controls', 'enabled:true');
                            controls.pitchObject.rotation.x = 0
                            controls.yawObject.rotation.y = 0
                        }, 3000)
                        if (count == 1) {
                            setTimeout(() => {
                                camera.setAttribute('wasd-controls', 'enabled:true');
                                camera.setAttribute('look-controls', 'enabled:true');
                                controls.pitchObject.rotation.x = 0
                                controls.yawObject.rotation.y = 0
                                background.setAttribute("visible", "true");
                                background.setAttribute('class', 'collidable');
                                closebtn.setAttribute('class', 'collidable');
                            }, 4000)
                        }
                    }
                    if (el.getAttribute('id') == 'leave') {
                        moveCamera(0.45, -2.6, -3.98);
                        setTimeout(() => {
                            moveCamera(0.45, -0.75, -3.98);
                        }, 1000)
                        setTimeout(() => {
                            moveCamera(ballpos.x, 0.3, -3.5);
                        }, 2000)
                        setTimeout(() => {
                            if (mobileAndTabletCheck() == true) {
                                moveCamera(0, 0, 2);
                            }
                            else {
                                moveCamera(0, 0, 0);
                            }
                            camera.setAttribute('rotation', { x: 0, y: 0, z: 0 });
                            camera.setAttribute('wasd-controls', 'enabled:false');
                            camera.setAttribute('look-controls', 'enabled:false');
                        }, 3000)
                    }
                });
            }
        });

        AFRAME.registerComponent('log', {
            schema: { type: 'string' },
            init: function () {
                var sceneEl = document.querySelector("#scene");
                var el = this.el;
                var cameraEl = this.el.sceneEl.camera.el;
                var cameraElpos = cameraEl.getAttribute('position');
                var cameraElrot = cameraEl.getAttribute('rotation');
                var stringToLog = this.data;
                console.log(stringToLog);

                StartModal();

                var videoEl2 = document.querySelector('#my-video2');
                const texture = new THREE.VideoTexture(videoEl2);
                videoEl2.playbackRate = 2.0;
                videoEl2.play();

                RandomOnce(0, 37, 38);
                console.log(numbers);
                setTimeout(() => {
                    InstantiateInCircle(numbers.length, 6);
                }, 1000)

                var canvas = document.querySelector(".a-canvas");

                myplane.setAttribute('position', { x: 0, y: 0, z: -1 });
                myplane.setAttribute('rotation', { x: 0, y: 0, z: 0 });
                if (mobileAndTabletCheck() == true) {
                    myplane.setAttribute('scale', { x: 0.5, y: 0.5, z: 0.5 });
                }
                else {
                    myplane.setAttribute('scale', { x: 0.75, y: 0.75, z: 0.75 });
                }

                myplane.setAttribute('width', "2");
                myplane.setAttribute("id", "myplane");
                myplane.setAttribute('material', 'shader: flat; color: #fff; src:https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Img/rahmen.png; opacity: 1; transparent: false');

                myText.setAttribute('position', { x: 0, y: 0.25, z: 0.25 });
                myText.setAttribute('rotation', { x: 0, y: 0, z: 0 });
                myText.setAttribute('color', "#993333");
                myText.setAttribute('width', "1.5");
                myText.setAttribute('height', "0.5");
                myText.setAttribute("align", "center");

                myButtonYes.setAttribute('position', { x: -0.5, y: -0.25, z: 0.1 });
                myButtonYes.setAttribute('rotation', { x: 0, y: 0, z: 0 });
                myButtonYes.setAttribute('material', 'shader: flat; color: #993333; opacity: 1; transparent: false');
                myButtonYes.setAttribute('width', "0.4");
                myButtonYes.setAttribute('height', "0.15");
                myButtonYes.setAttribute("testinen", "");
                myButtonYes.setAttribute("id", "jes");

                myTextYes.setAttribute('position', { x: 0.025, y: 0.025, z: 0.1 });
                myTextYes.setAttribute('rotation', { x: 0, y: 0, z: 0 });
                myTextYes.setAttribute('color', "white");
                myTextYes.setAttribute('width', "1.5");
                myTextYes.setAttribute('height', "0.5");
                myTextYes.setAttribute("testinen", "");
                myTextYes.setAttribute('value', "Ja");
                myTextYes.setAttribute("align", "center");
                myTextYes.setAttribute("id", "jes");

                myButtonNo.setAttribute('position', { x: 0.5, y: -0.25, z: 0.1 });
                myButtonNo.setAttribute('rotation', { x: 0, y: 0, z: 0 });
                myButtonNo.setAttribute('material', 'shader: flat; color: #993333; opacity: 1; transparent: false');
                myButtonNo.setAttribute('width', "0.4");
                myButtonNo.setAttribute('height', "0.15");
                myButtonNo.setAttribute("testinen", "");
                myButtonNo.setAttribute("id", "noe");

                myTextNo.setAttribute('position', { x: -0.025, y: 0.025, z: 0.1 });
                myTextNo.setAttribute('rotation', { x: 0, y: 0, z: 0 });
                myTextNo.setAttribute('color', "white");
                myTextNo.setAttribute('width', "1.5");
                myTextNo.setAttribute('height', "0.5");
                myTextNo.setAttribute("testinen", "");
                myTextNo.setAttribute('value', "Nein");
                myTextNo.setAttribute("align", "center");
                myTextNo.setAttribute("id", "noe");

                myplane.appendChild(myText);
                myButtonYes.appendChild(myTextYes);
                myButtonNo.appendChild(myTextNo);
                myplane.appendChild(myButtonYes);
                myplane.appendChild(myButtonNo);
                cameraEl.appendChild(myplane);
                myplane.setAttribute("visible", "false");

                if (mobileAndTabletCheck() == true) {
                    if (window.sessionStorage.length != 0) {
                        var posX = window.sessionStorage.getItem("cameraPosx");
                        var posY = window.sessionStorage.getItem("cameraPosy");
                        var posZ = window.sessionStorage.getItem("cameraPosz");
                        var rotX = window.sessionStorage.getItem("cameraRotx");
                        var rotY = window.sessionStorage.getItem("cameraRoty");
                        var rotZ = window.sessionStorage.getItem("cameraRotz");

                        cameraEl.setAttribute('wasd-controls', 'enabled:true');
                        cameraEl.setAttribute('look-controls', 'enabled:true');
                        cameraEl.setAttribute('position', { x: posX, y: posY, z: posZ });
                        cameraEl.object3D.rotation.x = rotX;
                        cameraEl.object3D.rotation.y = rotY;
                        cameraEl.object3D.rotation.z = rotZ;
                    }
                    else {
                        camera.setAttribute('position', { x: 0, y: 0, z: 2 });
                    }
                }
                else {
                    if (window.sessionStorage.length != 0) {
                        var posX = window.sessionStorage.getItem("cameraPosx");
                        var posY = window.sessionStorage.getItem("cameraPosy");
                        var posZ = window.sessionStorage.getItem("cameraPosz");
                        var rotX = window.sessionStorage.getItem("cameraRotx");
                        var rotY = window.sessionStorage.getItem("cameraRoty");
                        var rotZ = window.sessionStorage.getItem("cameraRotz");

                        cameraEl.setAttribute('wasd-controls', 'enabled:true');
                        cameraEl.setAttribute('look-controls', 'enabled:true');
                        cameraEl.setAttribute('position', { x: posX, y: posY, z: posZ });
                        cameraEl.object3D.rotation.x = rotX;
                        cameraEl.object3D.rotation.y = rotY;
                        cameraEl.object3D.rotation.z = rotZ;
                    }
                    else {
                        cameraEl.setAttribute('position', { x: 0, y: 0, z: 0 });
                    }
                }
            }
        });

        AFRAME.registerComponent("testinen", {
            init: function () {
                this.el.addEventListener("click", (e) => {
                    var cameraEl = this.el.sceneEl.camera.el;
                    var cameraElpos = cameraEl.getAttribute('position');
                    var specialRotCam = cameraEl.object3D.rotation;

                    if (myplane.getAttribute("visible") == false) {
                        myplane.setAttribute("visible", "true");
                        myButtonNo.setAttribute("class", "collidable");
                        myButtonYes.setAttribute("class", "collidable");
                        currentlink = this.data.href;
                        console.log(currentlink);
                    }
                    else {
                        myplane.setAttribute("visible", "false");
                        myButtonNo.removeAttribute("class", "collidable");
                        myButtonYes.removeAttribute("class", "collidable");
                    }

                    myText.setAttribute('value', "Wollen Sie zu " + "" + this.el.id + "" + " weitergeleitet werden ?");
                    if (this.el.id == "jes") {
                        var setsession = window.sessionStorage.setItem("cameraPosx", cameraElpos.x);
                        var setsession = window.sessionStorage.setItem("cameraPosy", cameraElpos.y);
                        var setsession = window.sessionStorage.setItem("cameraPosz", cameraElpos.z);
                        var setsession = window.sessionStorage.setItem("cameraRotx", specialRotCam.x);
                        var setsession = window.sessionStorage.setItem("cameraRoty", specialRotCam.y);
                        var setsession = window.sessionStorage.setItem("cameraRotz", specialRotCam.z);
                        console.log(window.sessionStorage);
                        window.location = currentlink;
                    }
                    else {
                        console.log("Do noting");
                    }
                });
            }
        });

        AFRAME.registerComponent("closin", {
            init: function () {
                this.el.addEventListener("click", (e) => {
                    background.setAttribute("visible", "false");
                    closebtn.removeAttribute("class", "collidable");
                    background.removeAttribute('class', 'collidable');
                });
            }
        });
    </script>
</head>
<body>
    <div id="content" class="site-content">
        <div class="container">
            <div id="test" class="d-flex justify-content-center">

                <button class="buttonOne"></button>
                <a-scene renderer="antialias: true" id="scene" vr-mode-ui="enabled: false"
                    loading-screen="dotsColor: red; backgroundColor: black" background="color: #ECECEC"
                    log="Hello, Scene!" embedded>
                    <a-assets>
                        <a-asset-item id="landing" shadow
                            src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/3dModel/Visionen.glb"></a-asset-item>
                    </a-assets>
                    <a-entity light="type: ambient; color: #ECECEC; intensity: 0.75"></a-entity>
                    <a-light type="hemisphere" color="#d4584e" groundColor="#ff766b" position="-1 -15 -5"
                        intensity="0.65" shadowCameraVisible: true;
                        animation="property: position; to: -1 15 10; dur: 3000; easing: linear; loop: true; dir: alternate">
                    </a-light>
                    <a-light type="point" color="white" position="-1 0 1" intensity="0.8" distance="20" decay="1">
                    </a-light>
                    <a-camera id='camera' wasd-controls-enabled="false" look-controls-enabled="false"
                        cursor="fuseTimeout:0; rayOrigin: mouse" raycaster="objects: .collidable"
                        look-controls="reverseMouseDrag:true" position="0 0 0">
                    </a-camera>
                    <a-sky geometry="primitive: sphere" roation="0 90 90"
                        material="shader: threeColorGradientShader; topColor: #993333; middleColor:#ffffff; bottomColor: #ffffff; offset: 0.0"></a-sky>
                    <a-sphere id="enter" src="#my-video2" class="collidable" rotation="0 270 -12"
                        position="0.5625 0.268 -2.5" radius="0.275" cursor-listener>
                    </a-sphere>

                    <a-sphere id="leave" src="#my-video2" class="collidable" rotation="-90 -45 0"
                        position="0.45 -2.6 -3.98" radius="0.275" cursor-listener>
                    </a-sphere>

                    <a-entity id="landing" gltf-model="#landing" shadow="receive: false" shadow="cast: false"
                        position="0 0 -2.5" rotation="90 0 0" scale="1 1 1">
                    </a-entity>

                    <a-assets>
                        <a-asset-item id="room" shadow
                            src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/3dModel/RoomTest.glb"></a-asset-item>
                        <a-asset-item id="frame1" shadow
                            src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Frames/Frame1.glb"></a-asset-item>
                        <a-asset-item id="frame2" shadow
                            src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Frames/Frame2.glb"></a-asset-item>
                        <a-asset-item id="frame3" shadow
                            src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Frames/Frame3.glb"></a-asset-item>
                        <a-asset-item id="frame4" shadow
                            src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Frames/Frame4.glb"></a-asset-item>
                        <a-asset-item id="frame5" shadow
                            src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Frames/Frame5.glb"></a-asset-item>

                        <video id="my-video2" muted autoplay="true" preload="auto" loop crossorigin="anonymous"
                            playsinline webkit-playsinline style="display:none">
                            <source
                                src="https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/video/myGradient.mp4"
                                type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
                        </video>
                    </a-assets>

                    <a-entity id="room" gltf-model="#room" position="0 0 -2.5" rotation="90 0 0"
                        scale="1 1 1"></a-entity>
                </a-scene>

                <script type="text/javascript">
                    var start, x_start, y_start, z_start, x_rotation, y_rotation, z_rotation;
                    duration = 1000;
                    var camera = document.querySelector("a-camera");
                    var camerapos = document.querySelector("a-camera").getAttribute('position');
                    var sceneEl = document.querySelector('a-scene');

                    var modal = document.getElementById("myModal");

                    var btn = document.querySelector(".buttonOne");

                    btn.onclick = function () {
                        if (background.getAttribute('visible') == false) {
                            background.setAttribute('visible', 'true');
                            closebtn.setAttribute("class", "collidable");
                            background.setAttribute("class", "collidable");
                        }
                        else {
                            background.setAttribute('visible', 'false');
                            closebtn.removeAttribute("class", "collidable");
                            background.removeAttribute("class", "collidable");
                        }
                    }

                    function moveCamera(x_destination, y_destination, z_destination) {
                        camerapos = document.querySelector("a-camera").getAttribute('position');
                        start = null;
                        x_start = camerapos.x;
                        x_rotation = x_destination - x_start;
                        y_start = camerapos.y;
                        y_rotation = y_destination - y_start;
                        z_start = camerapos.z;
                        z_rotation = z_destination - z_start;

                        requestAnimationFrame(step);
                    }

                    function step(timestamp) {
                        if (start === null) start = timestamp;
                        progress = timestamp - start;
                        camera.setAttribute('position', { x: x_start + x_rotation * progress / duration, y: y_start + y_rotation * progress / duration, z: z_start + z_rotation * progress / duration });
                        if (progress < duration) {
                            requestAnimationFrame(step);
                        }
                    }

                    function randomint(min, max) {
                        return Math.floor(Math.random() * (max - min + 1) + min);
                    }

                    function randomfloat(min, max) {
                        return Math.random() * (max - min + 1) + min;
                    }

                    function RandomOnce(min, max, reps) {

                        for (let i = 0; i < reps; i++) {
                            do {
                                n = Math.floor(Math.random() * (max - min + 1)) + min;
                                p = numbers.includes(n);
                                if (!p) {
                                    numbers.push(n);
                                }
                            }
                            while (p);
                        }
                    }

                    function mobileAndTabletCheck() {
                        let check = false;
                        (function (a) { if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);
                        return check;
                    };

                    function StartModal() {
                        var sceneEl = document.querySelector("#scene");
                        var cameraEl = sceneEl.camera.el;
                        var newtext1 = document.createElement('a-troika-text');
                        var header = document.createElement('a-troika-text');
                        var headerbackground = document.createElement('a-text');

                        newtext1.setAttribute('max-width', '0.85');
                        newtext1.setAttribute('height', '0.5');
                        newtext1.setAttribute('id', 'Zu den Projekten');
                        newtext1.setAttribute('value', 'Klick und halte die linke Maustaste gedrückt, um dich durch die Bewegung mit der Maus im Raum umzusehen' + '\n' + '\n' + 'Um ein Projekt näher zu betrachten, klicke einfach auf das Bild' + '\n' + '\n' + 'Hover mit der Maus über die Projektbilder, um die Visionen der Student*innen zu erfahren oder um über den Button direkt zum jeweiligen Projekt zu gelangen' + '\n' + '\n' + 'Viel Spaß beim interaktiven Entdecken!');
                        newtext1.setAttribute('color', '#993333');
                        newtext1.setAttribute('align', 'left');
                        newtext1.setAttribute('font-size', '0.035');
                        newtext1.setAttribute('font', 'https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/fonts/FilsonProRegular.otf');
                        newtext1.setAttribute('anchor', 'top');
                        newtext1.setAttribute('baseline', 'center');
                        background.setAttribute('id', 'ModalBg');

                        if (mobileAndTabletCheck() == true) {
                            background.setAttribute('position', { x: 0, y: 0, z: -1.35 });
                            background.setAttribute('geometry', 'primitive: plane; width: 1; height: 0.6');
                            background.setAttribute('material', 'shader: flat; color: #fff; src: https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Img/rahmen.png; opacity: 1; transparent: false');
                            headerbackground.setAttribute('position', { x: 0, y: 0.35, z: 0 });
                            headerbackground.setAttribute('geometry', 'primitive: plane; width: 1; height: 0.25');
                            headerbackground.setAttribute('material', 'shader: flat; color: #993333; opacity: 1; transparent: false');

                        }
                        else {
                            background.setAttribute('position', { x: 0, y: 0, z: -1 });
                            background.setAttribute('geometry', 'primitive: plane; width: 1; height: 0.6');
                            background.setAttribute('material', 'shader: flat; color: #fff; src: https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Img/rahmen.png; opacity: 1; transparent: false');
                            headerbackground.setAttribute('position', { x: 0, y: 0.35, z: 0 });
                            headerbackground.setAttribute('geometry', 'primitive: plane; width: 1; height: 0.25');
                            headerbackground.setAttribute('material', 'shader: flat; color: #993333; opacity: 1; transparent: false');
                        }

                        header.setAttribute('max-width', '0.85');
                        header.setAttribute('height', '0.5');
                        header.setAttribute('id', 'hed');
                        header.setAttribute('value', "NAVIGATION IM 3D RAUM");
                        header.setAttribute('color', '#ffffff');
                        header.setAttribute('align', 'center');
                        header.setAttribute('font-size', '0.06');
                        header.setAttribute('font', 'https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/fonts/FilsonProBold.otf');
                        header.setAttribute('anchor', 'center');
                        header.setAttribute('baseline', 'bottom');

                        closebtn.setAttribute('width', '2');
                        closebtn.setAttribute('height', '2');
                        closebtn.setAttribute('id', 'closebtn');
                        closebtn.setAttribute('value', "x");
                        closebtn.setAttribute('color', '#ffffff');
                        closebtn.setAttribute('position', { x: 0.4, y: 0.06, z: 0.01 });
                        closebtn.setAttribute('closin', '');

                        background.setAttribute('visible', 'false');
                        background.appendChild(newtext1);
                        headerbackground.appendChild(closebtn);
                        headerbackground.appendChild(header);
                        background.appendChild(headerbackground);
                        cameraEl.appendChild(background);
                    }

                    function InstantiateInCircle(count, radius) {
                        var frame = [];
                        var imageTest = [];
                        var background = [];
                        var textes = [];
                        var names = [];
                        var buttons = [];
                        var bgButton = [];
                        var emptys = [];
                        var angleSection = Math.PI * 2 / count;

                        for (i = 0; i < numbers.length; i++) {

                            var angle = i * angleSection;
                            var location = new THREE.Vector3(0.5625, 0.05, -4);

                            var newPos = location.add((new THREE.Vector3(Math.cos(angle), 0, Math.sin(angle)).multiplyScalar(radius)));
                            frame[i] = document.createElement('a-gltf-model');
                            imageTest[i] = document.createElement('a-image');
                            background[i] = document.createElement('a-text');
                            textes[i] = document.createElement('a-troika-text');
                            names[i] = document.createElement('a-troika-text');
                            bgButton[i] = document.createElement('a-text');
                            buttons[i] = document.createElement('a-text');
                            emptys[i] = document.createElement('a-entity');

                            frame[i].setAttribute('id', 'frame' + numbers[i].toString());
                            frame[i].setAttribute('src', '#frame' + randomint(1, 5).toString());
                            if (i % 2 === 0) {
                                frame[i].setAttribute('position', { x: newPos.x, y: randomint(-6, -11), z: newPos.z });
                            }
                            else {
                                frame[i].setAttribute('position', { x: newPos.x, y: randomint(-11, -14), z: newPos.z });
                            }
                            frame[i].setAttribute('rotation', { x: 0, y: 0, z: 0 });
                            frame[i].setAttribute('look-at', '#camera');
                            frame[i].setAttribute('scale', { x: 5, y: 5, z: 5 });

                            imageTest[i].setAttribute('src', data.projekt[numbers[i]].imgPath.toString());
                            imageTest[i].setAttribute('width', '0.225');
                            imageTest[i].setAttribute('height', '0.14');
                            imageTest[i].setAttribute('class', 'collidable');
                            imageTest[i].setAttribute('position', { x: 0, y: 0, z: 0.005 });

                            background[i].setAttribute('id', 'Background' + numbers[i].toString());
                            background[i].setAttribute('geometry', 'primitive: plane; width: 0.285; height: 0.125');
                            background[i].setAttribute('material', 'shader: flat; color: #fff; src: https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/Img/rahmen.png; opacity: 1; transparent: false');
                            background[i].setAttribute('visible', 'false');
                            background[i].setAttribute('position', { x: 0, y: -0.12, z: 0.05 });
                            background[i].setAttribute('class', 'collidable');
                            background[i].setAttribute('scale', { x: 0.75, y: 0.75, z: 0.75 });

                            textes[i].setAttribute('id', 'Text' + numbers[i].toString());
                            textes[i].setAttribute('max-width', '0.26');
                            textes[i].setAttribute('height', '0.5');
                            textes[i].setAttribute('value', '"' + data.projekt[numbers[i]].vision.toString() + '"');
                            textes[i].setAttribute('color', '#993333');
                            textes[i].setAttribute('align', 'left');
                            textes[i].setAttribute('baseline', 'top');
                            textes[i].setAttribute('anchor', 'center');
                            textes[i].setAttribute('font-size', '0.01');
                            textes[i].setAttribute('font', 'https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/fonts/FilsonProRegular.otf');
                            textes[i].setAttribute('position', { x: 0.005, y: 0.0525, z: 0.01 });

                            names[i].setAttribute('id', 'Name' + i.toString());
                            names[i].setAttribute('width', '0.3');
                            names[i].setAttribute('height', '0.05');
                            names[i].setAttribute('value', data.projekt[numbers[i]].name.toString());
                            names[i].setAttribute('color', '#993333');
                            names[i].setAttribute('align', 'left');
                            names[i].setAttribute('anchor', 'left');
                            names[i].setAttribute('font-size', '0.0115');
                            names[i].setAttribute('font', 'https://raw.githubusercontent.com/player11en/player11en.github.io/master/AFrame/Endpraese_2022/assets/fonts/FilsonProBold.otf');
                            names[i].setAttribute('position', { x: -0.125, y: -0.035, z: 0.01 });

                            buttons[i].setAttribute('id', 'Button' + numbers[i].toString());
                            buttons[i].setAttribute('width', '0.2');
                            buttons[i].setAttribute('height', '0.05');
                            buttons[i].setAttribute('value', 'Infos zum Projekt');
                            buttons[i].setAttribute('align', 'left');
                            buttons[i].setAttribute('anchor', 'left');
                            buttons[i].setAttribute('position', { x: 0.05, y: -0.04, z: 0.01 });

                            bgButton[i].setAttribute('geometry', 'primitive: plane; width: 0.08; height: 0.015');
                            bgButton[i].setAttribute('material', 'shader: flat; color: #993333; opacity: 1; transparent: false');
                            bgButton[i].setAttribute('position', { x: 0.035, y: 0, z: 0 });
                            bgButton[i].setAttribute('testinen', 'href:' + data.projekt[numbers[i]].url);
                            bgButton[i].setAttribute('id', data.projekt[numbers[i]].projektName.toString());
                            bgButton[i].setAttribute('class', 'collidable');

                            emptys[i].setAttribute('position', { x: 0, y: 0, z: 0.3 });
                            emptys[i].setAttribute('id', 'empty' + numbers[i].toString());

                            imageTest[i].setAttribute('frame-listener', '');
                            imageTest[i].setAttribute('event-set__enter', '_event: mouseenter ; _target: #Background' + numbers[i].toString() + '; visible: true');
                            imageTest[i].setAttribute('event-set__leave', '_event: mouseleave ; _target: #Background' + numbers[i].toString() + '; visible: false');
                            background[i].setAttribute('event-set__enter', '_event: mouseenter ; _target: #Background' + numbers[i].toString() + '; visible: true');
                            background[i].setAttribute('event-set__leave', '_event: mouseleave; _target: #Background' + numbers[i].toString() + '; visible: false');

                            imageTest[i].appendChild(emptys[i]);
                            buttons[i].appendChild(bgButton[i]);
                            background[i].appendChild(buttons[i]);
                            background[i].appendChild(textes[i]);
                            background[i].appendChild(names[i]);
                            frame[i].appendChild(background[i]);
                            frame[i].appendChild(imageTest[i]);
                            sceneEl.appendChild(frame[i]);
                        }
                    }

                    function LookAt() {
                        var direction = lookpos - objectPos;
                        var anglenew = Math.PI * 2 / count;
                    }
                </script>
            </div>
        </div>
    </div>
</body>

</html>